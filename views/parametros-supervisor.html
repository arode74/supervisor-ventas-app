<script src="../env.js"></script>

<div id="modulo-configuracion" class="modulo-configuracion">
  <div class="modulo-panel">
    <div class="modulo-header">
      <h2>Configuración</h2>
      <button id="btnVolver" class="btn-volver">Volver</button>
    </div>

    <div class="tarjeta-principal">
      <div class="bloque-config__header">
        <div>
          <h3 class="bloque-config__titulo">Parámetros del Supervisor</h3>
          <p class="bloque-config__sub">Selecciona un parámetro y administra su configuración</p>
        </div>
      </div>

      <div class="config-layout" style="display:flex; gap:24px; align-items:flex-start; flex-wrap:wrap;">
        <div class="config-lista" style="flex:0 0 260px;">
          <button class="config-item__btn" type="button" data-param="tipos_compromisos">
            Tipos de compromisos
          </button>

          <button class="config-item__btn" type="button" data-param="motivos_suplencia" disabled title="Próximamente">
            Motivos de suplencia <span class="tag-prox">Próximamente</span>
          </button>

          <button class="config-item__btn" type="button" data-param="equipos" disabled title="Próximamente">
            Equipos <span class="tag-prox">Próximamente</span>
          </button>
        </div>

        <div class="config-detalle" style="flex:1; min-width:280px;">
          <div id="cfgHint" class="config-tooltip">
            Selecciona un parámetro para habilitar acciones.
          </div>
          <div id="accionesParametro" class="config-acciones-right" style="margin-top:12px;"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ===========================================================
     MODAL: Tipos de Compromisos
     =========================================================== -->
<dialog id="modalTiposCompromisos" class="modal">
  <div class="modal-contenido">
    <h3>Tipos de compromisos</h3>

    <div style="margin-top:10px;">
      <table class="tabla-compacta" style="width:100%; border-collapse:collapse;">
        <colgroup>
          <col style="width:20%;">   <!-- Nombre -->
          <col style="width:46%;">   <!-- Descripción -->
          <col style="width:10%;">   <!-- Activo -->
          <col style="width:16%;">   <!-- Visible para todos -->
          <col style="width:120px;"> <!-- Acciones (FIJO, NO %) -->
        </colgroup>

        <thead>
          <tr>
            <th style="text-align:left;">Nombre</th>
            <th style="text-align:left;">Descripción</th>
            <th style="text-align:center;">Activo</th>
            <th style="text-align:center;">Visible<br>para todos</th>
            <th style="text-align:center;">Acciones</th>
          </tr>
        </thead>

        <!--
          IMPORTANTE:
          - Este tbody se llena SOLO vía JS
          - La columna Acciones NO tiene inputs aquí
          - Los botones icono (Editar / Guardar / Cancelar)
            se inyectan dinámicamente con clase .icon-action
        -->
        <tbody id="tbodyTiposCompromisos"></tbody>
      </table>
    </div>

    <div class="modal-botones">
      <button class="btn btn--secondary" data-modal-cerrar="modalTiposCompromisos">
        Cerrar
      </button>
    </div>
  </div>
</dialog>

<!-- ===========================================================
     MODAL: Nuevo Tipo
     =========================================================== -->
<dialog id="modalNuevoTipo" class="modal">
  <div class="modal-contenido">
    <h3>Nuevo tipo de compromiso</h3>

    <label for="nuevoTipoNombre">Nombre</label>
    <input id="nuevoTipoNombre" type="text" />

    <label for="nuevoTipoDescripcion">Descripción</label>
    <textarea id="nuevoTipoDescripcion" rows="3" style="width:100%;"></textarea>

    <div class="modal-checkline">
      <span class="modal-checkline__label">Activo</span>
      <input id="nuevoTipoActivo" type="checkbox" checked />
    </div>

    <div class="modal-checkline">
      <span class="modal-checkline__label">Visible para todos</span>
      <input id="nuevoTipoVisibleParaTodos" type="checkbox" />
    </div>

    <div class="modal-botones">
      <button id="btnGuardarNuevoTipo" class="btn btn--primary" type="button">Guardar</button>
      <button class="btn btn--secondary" type="button" data-modal-cerrar="modalNuevoTipo">Cancelar</button>
    </div>
  </div>
</dialog>

<!-- ===========================================================
     MODAL: Aviso
     =========================================================== -->
<dialog id="modalAviso" class="modal">
  <div class="modal-contenido">
    <h3 id="avisoTitulo">Aviso</h3>
    <p id="avisoTexto" style="margin-top:10px;">...</p>

    <div class="modal-botones">
      <button class="btn btn--primary" id="btnCerrarAviso" type="button">Cerrar</button>
    </div>
  </div>
</dialog>
